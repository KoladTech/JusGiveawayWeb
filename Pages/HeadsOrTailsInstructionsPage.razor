@page "/game-instructions"
@using Microsoft.AspNetCore.Components.Web

@if (IsPopupVisible)
{
    <div class="popup-container">
        <!-- Container Frame for the Pop-up -->
        <div class="popup-frame">
            <!-- Header Section: Title -->
            <h3 class="popup-title">@GameInstructionsTitle</h3>

            <!-- Scrollable Content Section: Instructions -->
            <div class="popup-content">
                <div class="instructions-section">
                    <h4>How to Play</h4>
                    <p>
                        Choose a side - <strong>Heads or Tails</strong>.
                        Flip the coin, if it lands on your side, you win. Each round of HoT consists of 100 coin flips.
                        Get more flips on your chosen side and you win.
                    </p>
                </div>

                <div class="instructions-section">
                    <h4>How to Win/Lose Money</h4>
                    <p>
                        Each round of HoT you win comes with monetary wins. <strong>
                            Score of 10 or more, win N2,000.
                            Score 1-9 win N500.
                        </strong> Rounds you lose will cost you winnings.
                        <strong>Score -10 or less lose N1,000. score between -1 and -9 lose N500.</strong>
                        Every round you <strong>draw is a BINGO!!!</strong> and comes with a <strong>N5,000</strong> win.
                        Maximum possible winnings is <strong>N50,000.</strong>
                    </p>
                </div>

                <div class="instructions-section">
                    <h4>How to Switch Sides</h4>
                    <p>
                        Switching coin sides means you wish to reset the game, click the <strong>‘Switch to’</strong> button.
                        This will reset your score and progress. Each reset will also come with a penalty of
                        <strong>N2,000.</strong> You have only <strong>20 resets</strong> allowed. Tap the hearts
                        at the top of the screen.
                    </p>
                </div>

                <div class="instructions-section">
                    <h4>How to Cashout</h4>
                    <p>
                        Cashout your winnings <strong>ONLY</strong> at the end of a round. Minimum cashout is
                        <strong>N20,000.</strong> Fill the form to complete cashout. Once you cashout, it's Gameover!
                        Until the next giveaway.
                    </p>
                </div>

                <div class="instructions-section">
                    <h4>Giveaway Balance</h4>
                    <p>
                        This indicates the remaining funds available in the current giveaway. It <strong>DOES NOT</strong>
                        indicate the funds you are able to win!
                    </p>
                </div>

                <div class="instructions-section">
                    <h4>More info/instructions</h4>
                    <p>
                        For more detailed instructions on how to play HoT. Please visit our <a href="https://www.instagram.com/jus_giveaway/" target="_blank">instagram page</a>.
                    </p>
                </div>
            </div>

            <!-- Footer Section: Button -->
            <div class="button-container">
                <button class="centered-button" @onclick="ClosePopup">Close</button>
            </div>
        </div>
    </div>
}

@code {
    // Example data binding for instructions title
    public string GameInstructionsTitle { get; set; } = "Heads o' Tails Instructions";
    private bool IsPopupVisible { get; set; }

    // Handle closing the popup
    private void ClosePopup()
    {
        IsPopupVisible = false;
        StateHasChanged();
    }

    // Method to open the popup
    public void ShowPopup()
    {
        IsPopupVisible = true;
        StateHasChanged();
    }
}
